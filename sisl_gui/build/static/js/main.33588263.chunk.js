(this["webpackJsonpsisl-gui-ui"]=this["webpackJsonpsisl-gui-ui"]||[]).push([[0],{1180:function(t,e,n){"use strict";n.r(e);var s=n(1),i=n.n(s),o=n(24),a=n.n(o),r=(n(463),n(464),n(93)),c=n(202),l=n(201),u=n(15),p=n(9),d="ADD_PLOTS",h="REMOVE_PLOT",b="CHANGE_PLOT_SETTINGS",j="SET_STRUCTURES",g="SET_PLOTABLES",f="SET_ACTIVE_PLOT",O="SET_ACTIVE_TAB",v="SET_ACTIVE_STRUCTS",m="SET_ACTIVE_PLOTABLES",y="DEACTIVATE_STRUCT",x="DEACTIVATE_PLOTABLE",S="SET_SESSION",P="CHANGE_SESSION_SETTINGS",C="CLEAR_SESSION",T="START_LOADING_PLOT",k="END_LOADING_PLOT",E="SET_ACTIVE_PAGE",w="SET_PLOTABLE_PLOTS",A={},_=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case S:return console.log("REDUX: Setting current session..."),console.warn(n.session),t=n.session,console.log(t),t;case P:return console.log("REDUX: Changing current session settings (not submitting yet)..."),t=Object(p.a)(Object(p.a)({},e),{},{settings:Object(p.a)(Object(p.a)({},e.settings),{},Object(u.a)({},n.settingKey,n.value))}),console.log(t),t;case C:return A;case x:return n.chosenPlots=[],t=Object(p.a)(Object(p.a)({},e),{},{plotables:Object(p.a)(Object(p.a)({},e.plotables),{},Object(u.a)({},n.plotableID,Object(p.a)(Object(p.a)({},e.plotables[n.plotableID]),{},{chosenPlots:n.chosenPlots})))});case w:return t=Object(p.a)(Object(p.a)({},e),{},{plotables:Object(p.a)(Object(p.a)({},e.plotables),{},Object(u.a)({},n.plotableID,Object(p.a)(Object(p.a)({},e.plotables[n.plotableID]),{},{chosenPlots:n.chosenPlots})))});default:return e}},I=n(19),D=n.n(I),G=n(56),N={},L=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case d:return console.log("REDUX: Storing a new plot..."),t=Object(p.a)(Object(p.a)({},e),n.newPlots),console.log(t),t;case h:return D.a.omit(e,[n.plotID]);case b:console.log("REDUX: Changing plot settings (not submitting yet)...");var s=n.extraParams.plotID;return e[s]?(t=Object(p.a)(Object(p.a)({},e),{},Object(u.a)({},s,Object(p.a)(Object(p.a)({},e[s]),{},{unsubmittedSettings:Object(p.a)(Object(p.a)({},e[s].unsubmittedSettings),{},Object(u.a)({},n.settingKey,n.value))}))),console.log(t),t):(G.b.error("You are trying to change the settings of a plot that does not exist"),e);case C:return N;default:return e}},M={plot:void 0,tab:void 0,structs:[],plotables:[],page:"plots"},R=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case f:return console.log("REDUX: Setting active plot..."),t=Object(p.a)(Object(p.a)({},e),{},{plot:n.plotID}),console.log(t),t;case O:return console.log("REDUX: Setting active tab..."),t=Object(p.a)(Object(p.a)({},e),{},{tab:n.activeTab}),console.log(t),t;case S:var s=D.a.find(n.session.tabs,["id",e.tab]),i=n.session.tabs.length>0;return s?e:i?Object(p.a)(Object(p.a)({},e),{},{tab:n.session.tabs[0].id}):Object(p.a)(Object(p.a)({},e),{},{tab:null});case v:return t=Object(p.a)(Object(p.a)({},e),{},{structs:n.structs});case j:return Object(p.a)(Object(p.a)({},e),{},{structs:[]});case y:var o=Array.isArray(n.structID)?n.structID:[n.structID];return t=Object(p.a)(Object(p.a)({},e),{},{structs:e.structs.filter((function(t){return!o.includes(t)}))});case E:return t=Object(p.a)(Object(p.a)({},e),{},{page:n.pageName});case m:return t=Object(p.a)(Object(p.a)({},e),{},{plotables:n.plotables});case g:return Object(p.a)(Object(p.a)({},e),{},{plotables:[]});case x:var a=Array.isArray(n.plotableID)?n.plotableID:[n.plotableID];return t=Object(p.a)(Object(p.a)({},e),{},{plotables:e.plotables.filter((function(t){return!a.includes(t)}))});case C:return M;default:return e}},z=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{plots:{}},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case T:return console.log("REDUX: Setting active plot..."),t=Object(p.a)(Object(p.a)({},e),{},{plots:Object(p.a)(Object(p.a)({},e.plots),{},Object(u.a)({},n.plot.id,Object(p.a)(Object(p.a)({},n.plot),{},{from:new Date})))}),console.log(t),t;case k:return console.log("REDUX: Changing plot settings (not submitting yet)..."),t=Object(p.a)(Object(p.a)({},e),{},{plots:D.a.omit(e.plots,[n.plotID])}),console.log(t),t;default:return e}},B=n(415),V=n.n(B);function F(t,e,n){return Object(l.a)({key:t,storage:V.a,whitelist:e},n)}var U=Object(r.a)({session:_,plots:L,loading:F("loading",["plots"],z),active:F("active",["tab","plot"],R),browser:Object(c.a)({small:600,medium:992})}),H=function(t){return t.active.structs.map((function(e){return t.session.structures[e]}))},K=function(t){return t.active.plotables.map((function(e){return t.session.plotables[e]}))},W=function(t){return t.plots[t.active.plot]},q=function(){var t=Object(r.b)(U,c.b);return{store:t,persistor:Object(l.b)(t)}},Y=n(26),X=n(417),J=n(18),Z=n(4),$=n(6),Q=n(7),tt=n(8),et=n(64),nt=n(418),st=n.n(nt),it=n(1242),ot=n(72),at=n(96),rt=n(36),ct=n(0),lt=function(t){return{type:S,session:t}},ut=function(t,e){return{type:d,newPlots:t,tabsIDs:e}},pt=function(t){return{type:j,newStructures:t}},dt=function(t){return{type:"SET_SESSION_TABS",tabs:t}},ht=function(t){return{type:f,plotID:t?"string"==typeof t?t:t.id:void 0}},bt=function(t){return{type:O,activeTab:t}},jt=function(t){return{type:v,structs:t}},gt=function(t){return{type:y,structID:t}},ft=function(t){return{type:T,plot:t}},Ot=function(t){return{type:k,plotID:t}},vt=function(t){return{type:E,pageName:t}},mt=function(t){return{type:m,plotables:t}},yt=function(t){return{type:x,plotableID:t}},xt=n(419),St=n.n(xt),Pt=n(1253),Ct=n(1251),Tt=n(3),kt=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){return Object(Z.a)(this,n),e.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var t=this,e=this.props.value||"",n=this.props.label||(this.props.setting?this.props.setting.name:"");return Object(Tt.jsx)(Ct.a,Object(p.a)({variant:"outlined",value:e,onChange:function(e){return t.props.onChange(e.target.value)},label:n,style:Object(p.a)({width:"100%"},this.props.style)},this.props.inputField?this.props.inputField.params:this.props.params))}}]),n}(s.Component),Et=n(1241),wt=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(t){var s;return Object(Z.a)(this,n),(s=e.call(this,t)).state={value:""},t.controlClose&&t.controlClose(t.closeToast),s}return Object($.a)(n,[{key:"componentWillUnmount",value:function(){this.props.callback(this.state.value)}},{key:"render",value:function(){var t=this;return Object(Tt.jsxs)("div",{children:[Object(Tt.jsx)("div",{style:{paddingBottom:10},children:this.props.content}),Object(Tt.jsx)(kt,{value:this.state.value,onChange:function(e){t.setState({value:e})},label:this.props.inputProps.label}),Object(Tt.jsx)(Et.a,{onClick:this.props.closeToast,children:"Submit"})]})}}]),n}(s.Component),At=function(t,e,n){Object(G.b)(Object(Tt.jsx)(wt,Object(p.a)({content:t,callback:e},n)),{autoClose:!1,closeOnClick:!1,onClose:function(t){console.warn(t)}})},_t=At,It=new function t(){var e=this;Object(Z.a)(this,t),this.connect=function(t){t&&(e.apiAddress=t),e.externalListeners={},e.socket=St()(e.apiAddress),e.listeners.forEach((function(t){var n;return(n=e.socket).on.apply(n,Object(J.a)(t))})),e.connectionTimeOut=setTimeout((function(){var t,n,s;t=e.apiAddress,n=function(t){t&&(e.apiAddress=t.trim()),e.socket.connected||(e.disconnect(),e.connect())},s={controlClose:function(t){return e.onConnect(t)}},At(Object(Tt.jsxs)("div",{children:[Object(Tt.jsx)("div",{children:"Couldn't connect to "+t}),Object(Tt.jsx)("div",{children:"Do you want to specify a different address for the API?"}),Object(Tt.jsx)("div",{children:" (http(s)://host:port)"})]}),n,Object(p.a)({inputProps:{label:"New address"}},s))}),3e3),e.socket.connect()},this.disconnect=function(){e.socket.disconnect()},this.on=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var i;e.socket&&(i=e.socket).on.apply(i,n);e.listeners.push(n)},this.onConnect=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];e.on.apply(e,["connect"].concat(n))},this.onDisconnect=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];e.on.apply(e,["disconnect"].concat(n))},this.setupListeners=function(){e.on("connect",(function(){clearTimeout(e.connectionTimeOut),e.requestSession()})),e.on("disconnect",(function(t){console.warn(t),e.disconnect(),e.connect()})),e.on("auth_required",e.askForAuth),e.on("logged_in",e.requestSession),e.on("error",(function(t){return e.handleError(t,"socket")})),e.on("server_error",(function(t){return e.handleError(t,"server")})),e.on("current_session",(function(t){console.error(t),document.dispatchEvent(new CustomEvent("syncWithSession",{detail:{session:t}}))})),e.on("loading_plot",(function(t){document.dispatchEvent(new CustomEvent("loadingPlot",{detail:t}))})),e.on("plot",(function(t){document.dispatchEvent(new CustomEvent("plot",{detail:{plot:t}}))}))},this.handleError=function(t,e){"server"===e?G.b.error("THERE WAS A PYTHON ERROR:\n"+t):G.b.error(t)},this.askForAuth=function(){e.authenticating||(e.authenticating=!0,_t((function(t){e.socket.emit("login",t),e.authenticating=!1})))},this.requestSession=function(t){e.socket.emit("request_session",t)},this.loadSession=function(t){e.requestSession(t)},this.newProcessId=Pt.a,this._sessionMethod=function(t,n,s){for(var i,o=arguments.length,a=new Array(o>3?o-3:0),r=3;r<o;r++)a[r-3]=arguments[r];(i=e.socket).emit.apply(i,["apply_method_on_session",t,n].concat(a))},this.updateSessionSettings=function(t){e._sessionMethod("update_settings",t)},this.undoSessionSettings=function(){e._sessionMethod("undo_settings")},this.addTab=function(t){e._sessionMethod("add_tab",{name:t})},this.removeTab=function(t){e._sessionMethod("remove_tab",{tabID:t})},this.updateTab=function(t,n){e._sessionMethod("update_tab",{tabID:t,newParams:n})},this.setTabLayouts=function(t,n){e.updateTab(t,{layouts:n})},this.saveSession=function(t){e._sessionMethod("save",{path:t})},this.getPlot=function(t){document.dispatchEvent(new CustomEvent("updatingPlot",{detail:{plot_id:t}})),e.socket.emit("get_plot",t)},this.newPlot=function(t){e._sessionMethod("new_plot",t)},this.removePlot=function(t){e._sessionMethod("remove_plot",null,null,t)},this.movePlot=function(t,n){e._sessionMethod("move_plot",null,null,t,n)},this.mergePlots=function(t,n){e._sessionMethod("merge_plots",{to:n},null,t)},this._plotMethod=function(t,n,s,i){for(var o=arguments.length,a=new Array(o>4?o-4:0),r=4;r<o;r++)a[r-4]=arguments[r];e._sessionMethod.apply(e,["_run_plot_method",s,i,t,n].concat(a))},this.showPlotFullScreen=function(t){e._plotMethod(t,"show")},this.updatePlotSettings=function(t,n){e._plotMethod(t,"update_settings",n)},this.undoPlotSettings=function(t){e._plotMethod(t,"undo_settings")},this.updatePlotLayout=function(t,n){e._plotMethod(t,"update_layout",n)},this.updateFigure=function(t,n){var s=n.layout,i=n.data,o=n.frames,a=n.overwrite;e._plotMethod(t,"update",{layout:s,data:i,frames:o,overwrite:a})},this.callPlotShortcut=function(t,n){e._plotMethod(t,"call_shortcut",null,null,n)},this.dispatchPlotEvent=function(t,n,s){e._plotMethod(t,"dispatch_event",s,null,n)},this.savePlot=function(t,n){e._plotMethod(t,"save",{path:n})},this.sendFile=function(t){console.log("TRYING TO SEND"),e.socket.emit("upload_file",t,t.name)},this.apiAddress="http://localhost:4000",this.user=void 0,this.listeners=[],this.setupListeners(),this.connect(),document.api=this},Dt=n(44),Gt={SHOW_AVAIL_HOTKEYS:{name:"Show available hotkeys",sequence:"shift+?"},GO_TO_SETTINGS:{name:"Go to settings",sequence:"shift+s"},GO_TO_DASHBOARD:{name:"Go to the plot's dashboard",sequence:"shift+d"},GO_TO_MOLECULEVIEWER:{name:"Go to the molecule viewer",sequence:"shift+m"},SAVE_SESSION:{name:"Save session",sequences:["ctrl+shift+s","ctrl+alt+s"]},LOAD_SESSION:{name:"Load session",sequences:["ctrl+shift+l","ctrl+alt+l"]}},Nt={global:{MOVE_TO_NEXT_TAB:{name:"Move to next tab",sequence:"shift+t+right"},MOVE_TO_PREVIOUS_TAB:{name:"Move to previous tab",sequence:"shift+t+left"},NEW_TAB:{name:"New tab",sequence:"shift+t",action:"keyup"},TRY:"shift+t+r"}},Lt={global:{MOVE_TO_NEXT_TAB:{name:"Move to next tab",sequence:"shift+right"},MOVE_TO_PREVIOUS_TAB:{name:"Move to previous tab",sequence:"shift+left"}}},Mt={GO_TO_PLOT_SETTINGSEDITING:{name:"Edit current plot's settings",sequence:"s"},GO_TO_PLOT_LAYOUTEDITING:{name:"Edit current plot's layout",sequence:"e"},GO_TO_PLOT_METHODS:{name:"Go to current plot methods",sequence:"m"},FULL_SCREEN:{name:"See current plot in full screen in a different browser's tab",sequence:"f"},REMOVE_PLOT:{name:"Remove current plot",sequences:["del","backspace"]},UNDO_PLOT_SETTINGS:{name:"Undo current plot settings",sequence:"ctrl+z"}},Rt={SUBMIT_SETTINGS:{name:"Submit this group's settings",sequence:"shift+enter"}},zt={global:{UNDO_SETTINGS:{name:"Undo settings",sequence:"ctrl+z"},SUBMIT_ALL_SETTINGS:{name:"Submit all settings",sequence:"shift+enter"}}},Bt=n(1186),Vt=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(t){var s;return Object(Z.a)(this,n),(s=e.call(this,t)).hotKeys=function(){return document.querySelectorAll(".plotCardHotKeys")},s.hotKeysHandlers={GO_TO_PLOT_LAYOUTEDITING:function(){return s.goToPlotLayoutEditing()},GO_TO_PLOT_SETTINGSEDITING:function(){return s.goToPlotSettingsEditing()},GO_TO_PLOT_METHODS:function(){return s.goToPlotMethods()},FULL_SCREEN:function(){return s.showPlotFullScreen()},UNDO_PLOT_SETTINGS:function(){return s.undoSettings()},REMOVE_PLOT:function(){return s.removePlot()}},s.callPlotShortcut=function(t){G.b.warn("Applying "+s.props.plot.shortcuts[t].name+" shortcut"),It.callPlotShortcut(s.props.plot.id,t)},s.handlePlotClick=function(t){var e=t.points,n=D.a.omit(e[0],["data","fullData","xaxis","yaxis"]);console.warn(n),It.dispatchPlotEvent(s.props.plot.id,"click",n)},s.handlePlotRelayout=function(t){if(!t["scene.camera"]){var e=Object.keys(t);e.includes("autosize")||0!==e.length&&It.updatePlotLayout(s.props.plot.id,t)}},s.undoSettings=function(){It.undoPlotSettings(s.props.plot.id)},s.removePlot=function(){It.removePlot(s.props.plot.id)},s.goToPlotSettingsEditing=function(){s.setPlotAsActive(),s.props.setActivePage("plotTweaking")},s.goToPlotLayoutEditing=function(){s.setPlotAsActive(),s.props.setActivePage("plotLayoutEditor")},s.goToPlotMethods=function(){s.setPlotAsActive(),s.props.setActivePage("plotMethods")},s.setPlotAsActive=function(){s.props.setActivePlot(s.props.plot)},s.togglePlotAsActive=function(){s.isActivePlot?s.props.setActivePlot(void 0):s.setPlotAsActive()},s.savePlot=function(){var t=prompt("Please provide the path to save the plot.\n\nRoot directory:\n"+s.props.session.settings.rootDir);t&&It.savePlot(s.props.plot.id,t)},s.showPlotFullScreen=function(){It.showPlotFullScreen(s.props.plot.id)},s.state={isLoading:!1},s}return Object($.a)(n,[{key:"componentDidMount",value:function(){var t=this;document.addEventListener("plotResize",(function(e){e.detail.id!==t.props.plot.id&&"all"!==e.detail.id||t.setState({cou:Math.random()})}))}},{key:"isActivePlot",get:function(){return this.props.plot.id===this.props.active.plot}},{key:"render",value:function(){var t=this;if(this.state.isLoading||!this.props.plot)return Object(Tt.jsx)(it.a,{className:"plotcard",style:{borderRadius:15},children:Object(Tt.jsx)("div",{children:"We are working hard to load your plot."})});if(!this.props.plot.figure)return Object(Tt.jsx)(it.a,{className:"plotcard",style:{borderRadius:15},children:Object(Tt.jsx)("div",{children:"A figure could not be generated for this plot."})});var e=this.props.plot.figure.layout,n=e.paper_bgcolor||"white",s=Object(p.a)(Object(p.a)({},Mt),{},{TESTING:"shift+r"},Object.keys(this.props.plot.shortcuts).reduce((function(e,n){var s=t.props.plot.shortcuts[n];return["ctrl+z","ctrl+alt+l"].includes(n)||(e[s.name.replace(/ /g,"_")]=Object(p.a)({sequence:n},s)),e}),{})),i=Object(p.a)(Object(p.a)({},this.hotKeysHandlers),Object.keys(this.props.plot.shortcuts).reduce((function(e,n){var s=t.props.plot.shortcuts[n];return["ctrl+z","ctrl+alt+l"].includes(n)||(e[s.name.replace(/ /g,"_")]=function(){return t.callPlotShortcut(n)}),e}),{})),o=(this.isActivePlot,{});return Object(Tt.jsxs)(Dt.HotKeys,{className:"plotCardHotKeys",component:it.a,elevation:this.props.elevation||1,keyMap:s,handlers:i,allowChanges:!0,style:Object(p.a)(Object(p.a)({width:"100%",height:"100%",display:"flex",flexDirection:"column",borderRadius:3,overflow:"hidden",background:n,paddingTop:5},o),this.props.style),children:[Object(Tt.jsx)("div",{style:{flex:1},children:Object(Tt.jsx)(st.a,{ref:function(e){t.plotlyRef=e},useResizeHandler:!0,style:{width:"100%",height:"100%"},data:this.props.plot.figure.data,layout:Object(p.a)({autosize:!0},e),frames:this.props.plot.figure.frames,onClick:this.handlePlotClick,onRelayout:this.handlePlotRelayout,onUpdate:function(t){},config:{editable:!0,responsive:!0}})}),Object(Tt.jsxs)("div",{style:{display:"flex",paddingLeft:10,paddingRight:20,background:n,marginBottom:5},className:"card-action",children:[Object(Tt.jsxs)(ct.b.Provider,{value:{size:25,style:{margin:5},color:"#6eb6ff"},children:[Object(Tt.jsx)("div",{style:{flex:1,textAlign:"left"},children:Object(Tt.jsx)(Bt.a,{size:"small","data-tip":"Full screen (f)",onClick:this.showPlotFullScreen,children:Object(Tt.jsx)(ot.d,{})})}),Object(Tt.jsxs)("div",{children:[Object(Tt.jsx)(Bt.a,{size:"small","data-tip":"Settings (s)",onClick:this.goToPlotSettingsEditing,children:Object(Tt.jsx)(rt.l,{})}),Object(Tt.jsx)(Bt.a,{size:"small","data-tip":"Methods (m)",onClick:this.goToPlotMethods,children:Object(Tt.jsx)(at.c,{})}),Object(Tt.jsx)(Bt.a,{size:"small","data-tip":"Edit layout (e)",onClick:this.goToPlotLayoutEditing,children:Object(Tt.jsx)(ot.b,{})}),Object(Tt.jsx)(Bt.a,{size:"small","data-tip":"Save plot (coming soon)",children:Object(Tt.jsx)(at.d,{color:"#ccc"})}),Object(Tt.jsx)(Bt.a,{size:"small","data-tip":"Export data (coming soon)",children:Object(Tt.jsx)(ot.c,{color:"#ccc"})}),Object(Tt.jsx)(Bt.a,{size:"small","data-tip":"Remove (supr)",onClick:this.removePlot,children:Object(Tt.jsx)(ot.a,{color:"red"})})]})]}),Object(Tt.jsx)(et.a,{disable:!!this.props.session.settings&&!this.props.session.settings.showTooltips})]})]})}}]),n}(s.Component),Ft={setSessionTabs:dt,setActivePlot:ht,removePlot:function(t,e){return{type:h,plotID:t,tabID:e}},setActivePage:vt,addPlots:ut},Ut=Object(Y.b)((function(t){return{plots:t.plots,active:t.active,session:t.session}}),Ft)(Vt),Ht=n(265),Kt=n(1185),Wt=(n(515),n(516),function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){var t;Object(Z.a)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).updateTabs=function(t){document.dispatchEvent(new CustomEvent("updateTabs",{detail:{tabs:t}}))},t.updateTabParams=function(t,e){It.updateTab(t,e)},t.removeTab=function(t){It.removeTab(t)},t.updateTabName=function(e){e.target.blur(),t.updateTabParams(e.target.id,{name:e.target.textContent})},t}return Object($.a)(n,[{key:"render",value:function(){var t=this,e=this.props.tab,n=e.id,s=e.name,i=n===this.props.active.tab;return Object(Tt.jsxs)("div",{className:i?"active plotTab":"plotTab",onClick:i?null:function(){return t.props.setActiveTab(n)},children:[Object(Tt.jsx)("div",{id:n,contentEditable:i,onBlur:this.updateTabName,onKeyUp:function(e){13===e.keyCode&&t.updateTabName(e)},children:s}),i?Object(Tt.jsx)("div",{className:"removeTabBut",onClick:function(){return t.removeTab(n)},children:Object(Tt.jsx)(rt.j,{size:20})}):null]},n)}}]),n}(s.Component)),qt={setActiveTab:bt},Yt=Object(Y.b)((function(t){return{active:t.active,tabs:t.tabs}}),qt)(Wt),Xt=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){var t;Object(Z.a)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).hotKeysHandlers={MOVE_TO_NEXT_TAB:function(){return t.moveThroughTabs("right")},MOVE_TO_PREVIOUS_TAB:function(){return t.moveThroughTabs("left")},NEW_TAB:function(){return t.newTab()},TRY:function(){return console.warn("YES")}},t.moveThroughTabs=function(e){var n,s=t.props.tabs,i=D.a.findIndex(s,["id",t.props.active.tab]);"left"===e?n=0!==i?i-1:s.length-1:"right"===e&&(n=i!==s.length-1?i+1:0),t.props.setActiveTab(s[n].id)},t.updateTabs=function(t){document.dispatchEvent(new CustomEvent("updateTabs",{detail:{tabs:t}}))},t.newTab=function(){It.addTab()},t.noTabsMessage=function(){return Object(Tt.jsxs)("div",{style:{paddingLeft:20},children:[Object(Tt.jsx)("span",{style:{color:"darkred"},children:"You don't seem to have any tab. "}),"That's wierd, but if that's what you want..."]})},t}return Object($.a)(n,[{key:"render",value:function(){var t=this.props.tabs||[];return Object(Tt.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",marginTop:10,marginBottom:5},children:[Object(Tt.jsx)(Dt.GlobalHotKeys,{keyMap:Nt.global,handlers:this.hotKeysHandlers}),0===t.length?this.noTabsMessage():t.map((function(t){return Object(Tt.jsx)(Yt,{tab:t})})),Object(Tt.jsx)(rt.a,{onClick:this.newTab,"data-tip":"New tab","data-place":"right",color:"green",size:20,className:"newTabIcon"})]})}}]),n}(s.Component),Jt={setActiveTab:bt},Zt=Object(Y.b)((function(t){return{tabs:t.session.tabs,active:t.active}}),Jt)(Xt),$t=Object(Ht.WidthProvider)(Ht.Responsive),Qt={backgroundColor:"#757eff",paddingTop:5,marginTop:-5},te=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(t){var s;return Object(Z.a)(this,n),(s=e.call(this,t)).state={currentBreakpoint:"lg",compactType:"vertical",mounted:!1,layouts:{lg:[]}},s.emptyDashboard=function(){return null},s.noTabsMessage=function(){return null},s.noPlotsMessage=function(){return Object(Tt.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"},children:[Object(Tt.jsx)("div",{style:{fontSize:"5em",fontWeight:"bold"},children:"This is the plots dashboard."}),Object(Tt.jsx)("div",{style:{fontSize:"1.2em"},children:"We would like to display your plots here, but currently you don't seem to have any"}),Object(Tt.jsx)("div",{style:{backgroundColor:"white",fontSize:"2em",margin:20,padding:20,paddingLeft:50,paddingRight:50,borderRadius:70},children:" You can try to create one by clicking on your structures"})]})},s.toggleSelected=function(t){var e;e=s.state.selected.includes(t)?s.state.selected.filter((function(e){return e!==t})):[].concat(Object(J.a)(s.state.selected),[t]),s.setState({selected:e})},s.onBreakpointChange=function(t){document.dispatchEvent(new CustomEvent("plotResize",{detail:{id:"all"}}))},s.onResizeStop=function(t,e,n){document.dispatchEvent(new CustomEvent("plotResize",{detail:{id:n.i,higher:e.h>n.h}}))},s.shouldComponentUpdate=function(t){if(!s._plotsInLayout)return!0;var e,n=t.active.tab!==s.props.active.tab;if(!n){var i=D.a.find(s.props.tabs,["id",s.props.active.tab]),o=D.a.find(t.tabs,["id",t.active.tab]);if(!i||!o)return!0;if(!i.layouts||!o.layouts)return!0;if(D.a.isEqual(i.layouts,o.layouts))return!0;if(!D.a.isEqual(s._plotsInLayout,o.plots))return!0;e=!D.a.isEqual(i.plots,o.plots)}return n||e},s.onLayoutChange=function(t,e){s.props.onLayoutChange(t,e),It.setTabLayouts(s.props.active.tab,e)},s.onDrop=function(t){alert("Element parameters: ".concat(JSON.stringify(t)))},s.getLayout=function(){if(!s.props.active.tab)return s.noTabsMessage();var t=D.a.find(s.props.tabs,["id",s.props.active.tab]);if(!t)return s.noTabsMessage();if(0===t.plots.length)return s.noPlotsMessage();var e=t.plots.map((function(t){return s.props.plots[t]}));if((e=e.filter((function(t){return t}))).length!==t.plots.length)return null;var i=t.layouts;return i.lg.length!==e.length&&(i.lg=e.map((function(t){return D.a.find(i.lg,["i",t.id])||n.newPlotLayout(t,i)}))),s._plotsInLayout=t.plots,Object(Tt.jsx)($t,Object(p.a)(Object(p.a)({},s.props),{},{layouts:i,onBreakpointChange:s.onBreakpointChange,onLayoutChange:s.onLayoutChange,onDrop:s.onDrop,onResizeStop:s.onResizeStop,draggableCancel:".infolayer, .draglayer, .shapelayer, #scene",measureBeforeMount:!1,useCSSTransforms:s.state.mounted,compactType:s.state.compactType,preventCollision:!s.state.compactType,rowHeight:10,children:s.generateDOM(i.lg,e,s.state.selected,s.toggleSelected)}))},s.mergePlots=function(t){It.mergePlots(s.state.selected,t),s.setState({selected:[]})},s.removePlots=function(){s.state.selected.forEach((function(t){return It.removePlot(t)})),s.setState({selected:[]})},s.movePlots=function(){var t=D.a.findIndex(s.props.tabs,["id",s.props.active.tab])+1;s.props.tabs.length===t&&(t=0),console.warn(t),s.state.selected.forEach((function(e){return It.movePlot(e,s.props.tabs[t].id)})),s.setState({selected:[]})},s.renderSelectedManager=function(){var t=s.state.selected.length;if(0===t)return null;return Object(Tt.jsxs)(Kt.a,{style:{padding:10,marginBottom:10},elevation:3,children:["You have ".concat(t," plots selected. What do you want to do?"),Object(Tt.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[t>1?[{to:"multiple"},{to:"subplots"},{to:"animation"}].map((function(t){return Object(Tt.jsx)(Et.a,{onClick:function(){return s.mergePlots(t.to)},children:"Merge as ".concat(t.to)})})):null,Object(Tt.jsx)(Et.a,{onClick:s.removePlots,children:"Remove"}),Object(Tt.jsx)(Et.a,{onClick:s.movePlots,children:"Move to other tab"})]})]})},s._plotsInLayout=!1,s.state={selected:[]},s}return Object($.a)(n,[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.props.setActivePlot(void 0)}},{key:"generateDOM",value:function(t,e,n,s){return D.a.map(t,(function(t,i){return Object(Tt.jsx)("div",{onClick:function(t){return t.ctrlKey?s(e[i].id):null},children:Object(Tt.jsx)(Ut,{plot:e[i],style:n.includes(e[i].id)?Qt:{}})},e[i].id)}))}},{key:"render",value:function(){var t=Object(Tt.jsx)(Zt,{}),e=Object(p.a)(Object(p.a)({},this.hotKeysHandler),D.a.pick(t.hotKeysHandler,["MOVE_TO_NEXT_TAB","MOVE_TO_PREVIOUS_TAB"]));return Object(Tt.jsxs)("div",{style:Object(p.a)({padding:10},this.props.style),className:"scrollView",children:[Object(Tt.jsx)(Dt.GlobalHotKeys,{keyMap:Lt.global,handlers:e}),this.renderSelectedManager(),this.getLayout()]})}}]),n}(i.a.Component);te.defaultProps={className:"layout",rowHeight:30,onLayoutChange:function(){},cols:{lg:12,md:12,sm:6,xs:4,xxs:2}},te.newPlotLayout=function(t,e){return{x:t.grid_dims[0]*e.lg.length,y:2,w:t.grid_dims[0],h:t.grid_dims[1],i:t.id}};var ee={setSessionTabs:dt,setTabPlots:function(t,e){return{type:"SET_TAB_PLOTS",tabID:t,plots:e}},setActivePlot:ht},ne=Object(Y.b)((function(t){return{plots:t.plots,structures:t.session.structures,tabs:t.session.tabs,active:t.active,session:t.session}}),ee)(Object(Dt.withHotKeys)(te)),se=(n(517),function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(t){var s;return Object(Z.a)(this,n),(s=e.call(this,t)).state={},s}return Object($.a)(n,[{key:"render",value:function(){return Object(Tt.jsxs)("div",{className:"structTag "+(this.props.struct.selected?"active":""),onClick:this.props.toggleStruct,"data-tip":this.props.struct.path,"data-effect":"solid",children:[Object(Tt.jsx)("div",{children:this.props.struct.name.replace(".fdf","")}),Object(Tt.jsx)("div",{style:{fontSize:"0.7em",color:"gray"},children:".../"+this.props.struct.path.split("/").slice(-2,-1)[0]})]})}}]),n}(s.Component)),ie=n(38),oe=n(1255),ae=n(1256),re=n(1257),ce=n(1243),le=Object(ce.a)((function(t){return{root:{transform:"translateZ(0px)",flexGrow:1},exampleWrapper:{position:"relative",marginTop:t.spacing(3)},radioGroup:{margin:t.spacing(1,0)},speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:t.spacing(2),right:t.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:t.spacing(2),left:t.spacing(2)}}}}));function ue(t){var e=le(),n=i.a.useState("left")[0],s=i.a.useState(!1),o=Object(ie.a)(s,2),a=o[0],r=o[1],c=i.a.useState(!1)[0];return Object(Tt.jsx)(oe.a,{ariaLabel:"SpeedDial example",className:e.speedDial,hidden:c,icon:Object(Tt.jsx)(ae.a,{}),onClose:function(){r(!1)},onOpen:function(){r(!0)},open:a,direction:n,children:t.actions.map((function(t){return Object(Tt.jsx)(re.a,{icon:t.icon,tooltipTitle:t.tip||t.name,tooltipPlacement:"top",onClick:t.onClick,href:t.href},t.name)}))})}var pe=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){var t;Object(Z.a)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).hotKeysHandler={SAVE_SESSION:function(){return t.saveCurrentSession()},LOAD_SESSION:function(){return t.loadSession()}},t.syncWithSession=function(t){document.dispatchEvent(new CustomEvent("syncWithSession",{detail:{session:t}}))},t.showPage=function(e){t.props.setActivePage(e)},t.saveCurrentSession=function(){var e=prompt("Please provide the path to save the session.\n\nRoot directory:\n"+t.props.session.settings.rootDir);e&&It.saveSession(e)},t.loadSession=function(){var e=prompt("Please provide the path of the saved session.\n\nRoot directory:\n"+t.props.session.settings.rootDir);e&&It.loadSession(e)},t}return Object($.a)(n,[{key:"render",value:function(){var t=[{name:"Save session",icon:Object(Tt.jsx)(at.d,{size:20}),onClick:this.saveCurrentSession},{name:"Load session",icon:Object(Tt.jsx)(ot.e,{size:20}),onClick:this.loadSession}];return Object(Tt.jsx)(ue,{actions:t})}}]),n}(s.Component),de=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){return Object(Z.a)(this,n),e.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){return Object(Tt.jsx)(Et.a,{"data-tip":this.props.tooltip,style:this.props.style,floating:!0,icon:this.props.icon,onClick:this.props.onClick,className:this.props.className})}}]),n}(s.Component),he={setActivePage:vt},be=Object(Y.b)((function(t){return{session:t.session,active:t.active}}),he)(pe),je=n(422),ge={settings:{name:"Settings",icon:Object(Tt.jsx)(je.a,{size:20}),color:"grey",hotKey:"Shift + s"},plots:{name:"Dashboard",icon:Object(Tt.jsx)(rt.c,{}),color:"grey",hotKey:"Shift + d"}},fe=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){var t;Object(Z.a)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).showPage=function(){t.props.setActivePage(t.props.to)},t}return Object($.a)(n,[{key:"render",value:function(){var t=ge[this.props.to];return Object(Tt.jsx)(de,Object(p.a)({icon:t.icon,className:t.color,tooltip:"Go to "+this.props.to+" ("+t.hotKey+")",onClick:this.showPage},this.props))}}]),n}(s.Component),Oe={setActivePage:vt},ve=Object(Y.b)(null,Oe)(fe),me=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(t){var s;return Object(Z.a)(this,n),(s=e.call(this,t)).state={},s}return Object($.a)(n,[{key:"render",value:function(){return Object(Tt.jsxs)("div",{className:"plotableTag "+(this.props.plotable.selected?"active":""),onClick:this.props.togglePlotable,"data-tip":this.props.plotable.path,"data-effect":"solid",children:[Object(Tt.jsx)("div",{children:this.props.plotable.name}),Object(Tt.jsx)("div",{style:{fontSize:"0.7em",color:"gray"},children:".../"+this.props.plotable.path.split("/").slice(-2,-1)[0]})]})}}]),n}(s.Component);var ye=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(t){var s;return Object(Z.a)(this,n),(s=e.call(this,t)).togglePlotInitializer=function(t,e){var n,s;0!==[].concat(Object(J.a)(t),Object(J.a)(e)).length?n=!0:s=!0,document.dispatchEvent(new CustomEvent("togglePlotInitializer",{detail:{forceShow:n,forceHide:s}}))},s.selectStructs=function(t){s.props.setActiveStructs(t),s.togglePlotInitializer(t,s.selectedPlotables)},s.selectPlotables=function(t){s.props.setActivePlotables(t),s.togglePlotInitializer(s.selectedStructs,t)},s.toggleStruct=function(t){var e=t.id;s.selectStructs(D.a.xor(s.selectedStructs,[e]))},s.togglePlotable=function(t){var e=t.id;s.selectPlotables(D.a.xor(s.selectedPlotables,[e]))},s.toggleStructDisplay=function(){s.setState({displayStructures:!s.state.displayStructures})},s.togglePlotablesDisplay=function(){s.setState({displayPlotables:!s.state.displayPlotables})},s.toggleAlphabeticSorting=function(){var t,e=(t={},Object(u.a)(t,!1,"asc"),Object(u.a)(t,"asc","desc"),Object(u.a)(t,"desc",!1),t);s.setState({alphabeticSorting:e[s.state.alphabeticSorting]})},s.toggleSearchByFolder=function(){s.setState({searchByFolder:!s.state.searchByFolder})},s.toggleSelectedSorting=function(){s.setState({selectedSorting:!s.state.selectedSorting})},s.toggleAll=function(){var t=Object.keys(s.filterStructs()),e=0===D.a.intersection([].concat(Object(J.a)(s.selectedStructs),Object(J.a)(s.selectedPlotables)),t).length,n=D.a.intersection(Object.keys(s.props.structures),t),i=D.a.intersection(Object.keys(s.props.plotables),t);s.selectStructs(e?[].concat(Object(J.a)(n),Object(J.a)(s.selectedStructs)):s.selectedStructs.filter((function(t){return!n.includes(t)}))),s.selectPlotables(e?[].concat(Object(J.a)(i),Object(J.a)(s.selectedPlotables)):s.selectedPlotables.filter((function(t){return!i.includes(t)})))},s.filterStructs=function(t){t=t||s.state.searchString,console.warn(t),t=t.includes("*")||t.includes("?")?t:"*"+t+"*";var e={},n=[s.state.displayStructures,s.state.displayPlotables];return[s.props.structures||[],s.props.plotables||[]].forEach((function(i,o){if(n[o]){var a=1===o,r=Object.keys(i).reduce((function(e,n){var o,r=i[n],c=s.state.searchByFolder?r.path.split("/").slice(-2,-1)[0]:r.name.replace(".fdf","");return o=c,new RegExp("^".concat(t.replace(/\*/g,".*").replace(/\?/g,"."),"$"),"i").test(o)&&(e[n]=Object(p.a)(Object(p.a)({},r),{},{selected:[].concat(Object(J.a)(s.selectedStructs),Object(J.a)(s.selectedPlotables)).includes(n),isPlotable:a,id:n})),e}),{});e=Object(p.a)(Object(p.a)({},e),r)}})),e},s.newSearchString=function(t){s.setState({searchString:t})},s.noStructuresMessage=function(){return Object(Tt.jsxs)("div",{children:[Object(Tt.jsx)("div",{style:{color:"darkred"},children:"No structures in the search scope right now."}),Object(Tt.jsx)("div",{children:"Try to change file system settings or initialize the GUI from a different directory"}),Object(Tt.jsx)(ve,{to:"settings",style:{marginTop:10}})]})},s.noMatchingStructuresMessage=function(){return Object(Tt.jsxs)("div",{children:[Object(Tt.jsx)("div",{style:{color:"darkred"},children:"No structure that matches your search."}),Object(Tt.jsx)("div",{children:"Try to change file system settings or initialize the GUI from a different directory"}),Object(Tt.jsx)(ve,{to:"settings",style:{marginTop:10}})]})},s.state={searchString:"",alphabeticSorting:!1,selectedSorting:!1,searchByFolder:!1,displayStructures:!0,displayPlotables:!1},s}return Object($.a)(n,[{key:"selectedStructs",get:function(){return this.props.activeStructs||[]}},{key:"selectedPlotables",get:function(){return this.props.activePlotables||[]}},{key:"render",value:function(){var t=this,e=this.filterStructs();return this.state.alphabeticSorting&&(e=D.a.orderBy(e,"name",this.state.alphabeticSorting)),this.state.selectedSorting&&(e=D.a.orderBy(e,"selected","desc")),Object(Tt.jsxs)("div",{style:Object(p.a)({height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column",backgroundColor:"white"},this.props.style),children:[Object(Tt.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:20,marginBottom:20},children:[Object(Tt.jsx)(kt,{label:"Search string",autocomplete:"off",placeholder:"Enter your search string...",style:{marginRight:10},value:this.state.searchString,onChange:this.newSearchString}),Object(Tt.jsx)("div",{"data-tip":"Search by folder",className:"structPickerToggle "+(this.state.searchByFolder?"active":""),onClick:this.toggleSearchByFolder,style:{cursor:"pointer"},children:this.state.searchByFolder?Object(Tt.jsx)(rt.f,{}):Object(Tt.jsx)(rt.g,{})})]}),Object(Tt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:5},children:[Object(Tt.jsx)("span",{"data-tip":"Show structures",className:"structPickerToggle "+(this.state.displayStructures?"active":""),onClick:this.toggleStructDisplay,style:{cursor:"pointer"},children:"Struct"}),Object(Tt.jsx)("span",{"data-tip":"Show plotables",className:"structPickerToggle "+(this.state.displayPlotables?"active":""),onClick:this.togglePlotablesDisplay,style:{cursor:"pointer"},children:"Plotables"})]}),Object(Tt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:5},children:[Object(Tt.jsx)("span",{className:"structPickerToggle "+(this.state.alphabeticSorting?"active":""),onClick:this.toggleAlphabeticSorting,style:{cursor:"pointer"},children:"A-Z"}),Object(Tt.jsx)("span",{"data-tip":"Show selected first",className:"structPickerToggle "+(this.state.selectedSorting?"active":""),onClick:this.toggleSelectedSorting,style:{cursor:"pointer"},children:"sel"}),Object(Tt.jsx)("span",{className:"structPickerToggle",onClick:this.toggleAll,style:{cursor:"pointer"},children:"All"})]}),0===Object.keys(Object(p.a)(Object(p.a)({},this.props.structures),this.props.plotables)).length?this.noStructuresMessage():0===Object.values(e).length?this.noMatchingStructuresMessage():null,Object(Tt.jsx)("div",{className:"scrollView",children:Object.values(e).map((function(e){return e.isPlotable?Object(Tt.jsx)(me,{id:e.id,plotable:e,togglePlotable:function(){return t.togglePlotable(e)}}):Object(Tt.jsx)(se,{id:e.id,struct:e,toggleStruct:function(){return t.toggleStruct(e)}})}))})]})}}]),n}(s.Component),xe={setActiveStructs:jt,setActivePlotables:mt},Se=Object(Y.b)((function(t){return{activeStructs:t.active.structs,activePlotables:t.active.plotables,plotables:t.session.plotables,structures:t.session.structures}}),xe)(ye),Pe=n(1252),Ce=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){var t;Object(Z.a)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).handleChange=function(e,n,s){n=t.getValueFromObj(n),t.props.onChange(n)},t.getValueFromObj=function(e){var n;return t.multiple&&Array.isArray(e)?n=e.map(t.getValueFromObj):"string"===typeof e?n=e:null!==e&&(n=e.value),t.sanitizeValue(n)},t.getObjFromValue=function(e){var n;return t.multiple&&Array.isArray(e)?n=e.map(t.getObjFromValue):null!=e&&null==(n=D.a.find(t.options,{value:e}))&&(n={value:e,label:e}),t.sanitizeValue(n)},t.sanitizeValue=function(e){return null===e&&(e=t.multiple?[]:null),e},t}return Object($.a)(n,[{key:"multiple",get:function(){return this.props.inputField.params.isMulti}},{key:"options",get:function(){return this.props.inputField.params.options}},{key:"render",value:function(){var t=this.props.label||(this.props.setting?this.props.setting.name:""),e=this.getObjFromValue(this.props.value),n=!this.props.inputField.params.isClearable,s=this.props.inputField.params.isCreatable;return Object(Tt.jsx)(Pe.a,{fullWidth:!0,freeSolo:s,multiple:this.multiple,disableClearable:n,value:e,onChange:this.handleChange,getOptionLabel:function(t){return t.label},options:this.options,renderInput:function(e){return Object(Tt.jsx)(Ct.a,Object(p.a)(Object(p.a)({},e),{},{label:t,variant:"outlined"}))}})}}]),n}(s.Component),Te=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){return Object(Z.a)(this,n),e.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var t={params:{options:this.props.options||this.props.session.plotOptions,isClearable:!0,isMulti:!0}};return Object(Tt.jsx)(Ce,{value:this.props.value,inputField:t,onChange:this.props.onChange,label:"Plot type"})}}]),n}(s.Component),ke=Object(Y.b)((function(t){return{tabs:t.tabs,active:t.active,session:t.session}}),null)(Te),Ee=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){return Object(Z.a)(this,n),e.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var t=this.props.tabs.map((function(t){return{label:t.name,value:t.id}})),e=this.props.value;null==e&&this.props.active.tab&&D.a.find(this.props.tabs,["id",this.props.active.tab])&&this.props.onChange(this.props.active.tab);var n={params:{options:t,isClearable:!1,isMulti:!1}};return Object(Tt.jsx)(Ce,{value:e,inputField:n,onChange:this.props.onChange,label:"Tab"})}}]),n}(s.Component),we=Object(Y.b)((function(t){return{tabs:t.session.tabs,active:t.active}}),null)(Ee),Ae=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){return Object(Z.a)(this,n),e.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var t=this,e=this.props.structure,n=this.props.groupActive;return Object(Tt.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginTop:10,marginBottom:10},children:[Object(Tt.jsx)("div",{style:{color:"darkred",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},onClick:function(){return t.props.deactivateStruct(e.id)},children:Object(Tt.jsx)(rt.i,{})}),Object(Tt.jsx)("div",{style:{cursor:n?"default":"pointer",marginRight:20,marginLeft:20,padding:10,backgroundColor:n?"whitesmoke":"#ccc",borderRadius:3},onClick:n?void 0:this.props.moveStructToActiveGroup,children:e.name.replace(".fdf","")}),Object(Tt.jsx)("div",{"data-tip":e.path,children:".../"+e.path.split("/").slice(-2,-1)[0]})]})}}]),n}(s.Component),_e={deactivateStruct:gt,setActiveStructs:jt},Ie=Object(Y.b)((function(t){return{active:t.active}}),_e)(Ae),De=[{label:"Plot individually",value:"separatePlot"},{label:"Merge in single plot",value:"jointPlot"},{label:"Build animation",value:"jointAnimation"},{label:"Animation for each",value:"separateAnimation"}],Ge=function(t){var e=t.value;null==e&&t.onChange(De[0].value);var n={params:{options:De,isClearable:!1,isMulti:!1}};return Object(Tt.jsx)(Ce,{value:e,inputField:n,onChange:t.onChange,label:"Plotting method"})},Ne=n(1246),Le=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){return Object(Z.a)(this,n),e.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var t=this,e=this.props.initializingOptions,n=e.tabID,s=e.plotClasses,i=e.mergeMethod,o=this.props.active?{backgroundColor:"#ccc"}:{backgroundColor:"whitesmoke"};return Object(Tt.jsxs)("div",{children:[Object(Tt.jsxs)("div",{style:{display:"flex",flexDirection:"row",margin:-4},children:[Object(Tt.jsx)("div",{className:"structGroupAction",style:o,onClick:this.props.splitGroup,children:"Split"}),Object(Tt.jsx)("div",{className:"structGroupAction",style:o,onClick:this.props.removeGroup,children:"Remove"}),this.props.active?null:Object(Tt.jsx)("div",{className:"structGroupAction",style:o,onClick:this.props.setGroupAsActive,children:"Mark as receptive"}),Object(Tt.jsx)("div",{style:{flex:1}})]}),Object(Tt.jsxs)(Ne.a,{container:!0,spacing:1,style:Object(p.a)({transition:"all 300ms",display:"flex",flexWrap:"wrap",padding:20,marginTop:0,marginBottom:20,borderRadius:5,borderTopLeftRadius:0,justifyContent:"center",alignItems:"center"},o),children:[Object(Tt.jsx)(Ne.a,{item:!0,sm:12,md:4,lg:3,children:this.props.structs.map((function(e){return Object(Tt.jsx)(Ie,{structure:e,groupActive:t.props.active,moveStructToActiveGroup:function(){return t.props.moveStructToActiveGroup(e.id)}})}))}),Object(Tt.jsx)(Ne.a,{item:!0,sm:12,md:4,lg:3,children:Object(Tt.jsx)(ke,{value:s,onChange:function(e){return t.props.onInitParamChange("plotClasses",e)}})}),Object(Tt.jsx)(Ne.a,{item:!0,sm:12,md:4,lg:3,children:Object(Tt.jsx)(we,{value:n,onChange:function(e){return t.props.onInitParamChange("tabID",e)}})}),Object(Tt.jsx)(Ne.a,{item:!0,sm:12,md:4,lg:3,children:Object(Tt.jsx)(Ge,{value:i,onChange:function(e){return t.props.onInitParamChange("mergeMethod",e)}})})]})]})}}]),n}(s.Component),Me={deactivateStruct:gt},Re=Object(Y.b)(null,Me)(Le),ze=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){return Object(Z.a)(this,n),e.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var t=this,e=this.props.plotable;return Object(Tt.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginTop:10},children:[Object(Tt.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(Tt.jsx)("div",{style:{color:"darkred",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},onClick:function(){return t.props.deactivatePlotable(e.id)},children:Object(Tt.jsx)(rt.i,{})}),Object(Tt.jsx)("div",{"data-tip":e.path,style:{marginLeft:20},children:"(.../"+e.path.split("/").slice(-2,-1)[0]+")"}),Object(Tt.jsx)("div",{style:{marginLeft:20,padding:10,backgroundColor:"whitesmoke",borderRadius:3},children:e.name})]}),Object(Tt.jsx)("div",{style:{flex:1,paddingLeft:20,paddingRight:20},children:Object(Tt.jsx)(ke,{options:e.plots.map((function(t){return{value:t,label:t}})),value:e.chosenPlots,onChange:function(n){return t.props.setPlotablePlots(e.id,n)}})})]})}}]),n}(s.Component),Be={deactivatePlotable:yt,setPlotablePlots:function(t,e){return{type:w,plotableID:t,chosenPlots:e}}},Ve=Object(Y.b)(null,Be)(ze),Fe=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(t){var s;return Object(Z.a)(this,n),(s=e.call(this,t)).onStructsUpdate=function(t){var e=[],n=s.selectedStructs.filter((function(e){var n=e.id;return!t.includes(n)}));if(0===s.state.structureGroups.length)e=s.markActiveGroup(0,[s.newGroup(s.selectedStructs)]);else{var i=D.a.findIndex(s.state.structureGroups,"active"),o=s.state.structureGroups[i];e=[].concat(Object(J.a)(s.state.structureGroups.slice(0,i)),[Object(p.a)(Object(p.a)({},o),{},{structs:[].concat(Object(J.a)(o.structs),Object(J.a)(n))})],Object(J.a)(s.state.structureGroups.slice(i+1)))}e=s.cleanUnselectedFromGroups(e),D.a.find(e,"active")||(e=s.markActiveGroup(e.length-1,e)),s.setState({structureGroups:e})},s.cleanUnselectedFromGroups=function(t){return t.reduce((function(t,e){return(e=Object(p.a)(Object(p.a)({},e),{},{structs:e.structs.filter((function(t){var e=t.id;return s.props.active.structs.includes(e)}))})).structs.length>0&&t.push(e),t}),[])},s.newGroup=function(t,e){return Object(p.a)({structs:t||[],initializingOptions:{tabID:s.defaultTabID,plotClasses:[],mergeMethod:"separatePlot"}},e)},s.addGroup=function(t){var e=t.structs,n=s.markActiveGroup(s.state.structureGroups.length,[].concat(Object(J.a)(s.state.structureGroups),[s.newGroup(e)]));s.setState({structureGroups:n})},s.removeGroup=function(t){var e=s.state.structureGroups[t];if(e.structs.length>0)s.props.deactivateStruct(e.structs.map((function(t){return t.id})));else{var n=s.state.structureGroups.filter((function(e,n){return n!==t}));e.active&&(n=s.markActiveGroup(n.length-1,n)),s.setState({structureGroups:n})}},s.splitGroup=function(t){var e=s.state.structureGroups[t],n=e.structs.map((function(t){return s.newGroup([t],D.a.omit(e,["structs"]))})),i=s.state.structureGroups.filter((function(e,n){return n!==t}));i=[].concat(Object(J.a)(i.slice(0,t)),Object(J.a)(n),Object(J.a)(i.slice(t))),e.active&&(i=s.markActiveGroup(t,i)),s.setState({structureGroups:i})},s.markActiveGroup=function(t,e){return(e=e||s.state.structureGroups).map((function(e,n){return Object(p.a)(Object(p.a)({},e),{},{active:n===t})}))},s.setGroupAsActive=function(t){s.setState({structureGroups:s.markActiveGroup(t)})},s.moveStructToActiveGroup=function(t){var e=D.a.find(s.selectedStructs,["id",t]),n=s.state.structureGroups.map((function(n){var s=n.active?[].concat(Object(J.a)(n.structs),[e]):n.structs.filter((function(e){return e.id!==t}));return Object(p.a)(Object(p.a)({},n),{},{structs:s})}));s.setState({structureGroups:n})},s.updateGroupInitParams=function(t,e,n){var i=s.state.structureGroups.map((function(s,i){return i===t?Object(p.a)(Object(p.a)({},s),{},{initializingOptions:Object(p.a)(Object(p.a)({},s.initializingOptions),{},Object(u.a)({},e,n))}):s}));s.setState({structureGroups:i})},s.toggleVisibility=function(){document.dispatchEvent(new Event("togglePlotInitializer"))},s.updateInitializingOptions=function(t,e){s.setState(Object(u.a)({},t,e))},s.getNewPlot=function(){s.selectedPlotables.forEach((function(t){t.chosenPlots.forEach((function(e){It.newPlot({tabID:s.defaultTabID,plotable_path:t.path,plot_method:e})}))})),s.state.structureGroups.forEach((function(t){var e=t.structs,n=t.initializingOptions;if(n.mergeMethod.includes("separate")){var s=n.mergeMethod.includes("Animation");e.forEach((function(t){n.plotClasses.forEach((function(e){It.newPlot({tabID:n.tabID,structID:t.id,animation:s,plotClass:e})}))}))}})),s.toggleVisibility(),s.props.setActiveStructs([]),s.props.setActivePlotables([])},s.nothingToPlotMessage=function(){return Object(Tt.jsxs)("div",{children:[Object(Tt.jsx)("div",{style:{color:"darkred",fontSize:"1.3em",fontWeight:"bold"},children:"There's nothing to plot currently"}),Object(Tt.jsx)("div",{children:"Select a structure or plotable to begin."})]})},s.state={structureGroups:[],plotables:[]},s}return Object($.a)(n,[{key:"selectedStructs",get:function(){return this.props.activeStructs||[]}},{key:"selectedPlotables",get:function(){return this.props.activePlotables||[]}},{key:"defaultTabID",get:function(){return this.props.active.tab?this.props.active.tab:this.props.tabs.length&&this.props.tabs.length>0?this.props.tabs[0].id:void 0}},{key:"componentDidMount",value:function(){this.onStructsUpdate([])}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(t){D.a.isEqual(t.active.structs,this.props.active.structs)||this.onStructsUpdate(t.active.structs)}},{key:"render",value:function(){var t=this;if(0===this.props.tabs.length)return null;var e=this.selectedPlotables;return Object(Tt.jsx)("div",{className:"plotInitializer",style:this.props.style,children:Object(Tt.jsxs)(it.a,{style:{margin:20,padding:20,background:"aliceblue",overflow:"visible"},children:[this.selectedStructs.length>0?Object(Tt.jsxs)("div",{children:[Object(Tt.jsx)("div",{className:"sectionHeader",children:"Structures"}),this.state.structureGroups.map((function(e,n){return Object(Tt.jsx)(Re,Object(p.a)(Object(p.a)({},e),{},{onInitParamChange:function(e,s){return t.updateGroupInitParams(n,e,s)},setGroupAsActive:function(){return t.setGroupAsActive(n)},removeGroup:function(){return t.removeGroup(n)},splitGroup:function(){return t.splitGroup(n)},moveStructToActiveGroup:t.moveStructToActiveGroup}))})),Object(Tt.jsx)("div",{onClick:this.addGroup,children:"New Group"})]}):null,this.selectedPlotables.length>0?Object(Tt.jsx)("div",{className:"sectionHeader",children:"Plotables"}):null,Object(Tt.jsx)("div",{children:e.map((function(t){return Object(Tt.jsx)(Ve,{plotable:t})}))}),0===[].concat(Object(J.a)(this.selectedPlotables),Object(J.a)(this.selectedStructs)).length?this.nothingToPlotMessage():null,Object(Tt.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingTop:20},children:[Object(Tt.jsx)(Et.a,{style:{marginRight:20},onClick:this.toggleVisibility,endIcon:Object(Tt.jsx)(rt.b,{}),children:"Dismiss"}),Object(Tt.jsx)(Et.a,{style:{marginLeft:20},onClick:this.getNewPlot,endIcon:Object(Tt.jsx)(rt.d,{}),children:"Initialize plots"})]})]})})}}]),n}(s.Component),Ue={setActiveTab:bt,addPlots:ut,setActiveStructs:jt,setActivePlotables:mt,informLoadingPlot:ft,informLoadedPlot:Ot,deactivateStruct:gt,deactivatePlotable:yt},He=Object(Y.b)((function(t){return{activeStructs:H(t),activePlotables:K(t),tabs:t.session.tabs,active:t.active}}),Ue)(Fe),Ke=n(1248),We=n(1254),qe=n(1247),Ye=n(1249),Xe=n(1258),Je=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){return Object(Z.a)(this,n),e.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var t=this;return Object(Tt.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(Tt.jsx)("div",{style:{paddingBottom:10},children:this.props.setting.name}),Object(Tt.jsx)(Xe.a,Object(p.a)({id:this.props.id||this.props.setting.key,checked:this.props.value,onChange:function(e){return t.props.onChange(e.target.checked)}},this.props.inputField.params))]})}}]),n}(s.Component),Ze=n(263),$e=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(t){var s;return Object(Z.a)(this,n),(s=e.call(this,t)).toggleColorPicker=function(){s.setState({displayColorPicker:!s.state.displayColorPicker})},s.state={tempcolor:void 0},s}return Object($.a)(n,[{key:"render",value:function(){var t=this,e=this.state.displayColorPicker?Object(Tt.jsx)("div",{style:{position:"absolute",bottom:60},children:Object(Tt.jsx)(Ze.ChromePicker,Object(p.a)({color:this.state.tempcolor||this.props.value||"black",onChange:function(e){t.setState({tempcolor:e.hex})},onChangeComplete:function(e){t.props.onChange(e.hex),t.setState({tempcolor:void 0})}},this.props.inputField.params))}):null;return Object(Tt.jsxs)("div",{style:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(Tt.jsx)("div",{style:{paddingBottom:10},children:this.props.setting.name}),Object(Tt.jsx)("div",{className:"MuiPaper-elevation3",onClick:this.toggleColorPicker,style:{width:30,height:30,borderRadius:30,background:this.props.value}}),e]})}}]),n}(s.Component),Qe=n(1259),tn=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){var t;Object(Z.a)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).onChange=function(e,n){t.props.onChange(n)},t}return Object($.a)(n,[{key:"render",value:function(){var t=this,e=this.props.inputField.params,n=e.min,s=e.max,i=e.step,o=e.marks;o=Array.isArray(o)?o:void 0;var a=this.props.value||[0,0];return Object(Tt.jsxs)("div",{children:[Object(Tt.jsx)("div",{style:{paddingBottom:10},children:this.props.setting.name}),Object(Tt.jsx)(Qe.a,{getAriaLabel:function(){return t.props.setting.name},value:a,onChange:this.onChange,valueLabelDisplay:"auto",min:n,max:s,step:i,marks:o})]})}}]),n}(s.Component),en=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){return Object(Z.a)(this,n),e.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var t=this,e=null!=this.props.value?this.props.value:["",""];return Object(Tt.jsxs)("div",{children:[Object(Tt.jsx)("div",{style:{paddingBottom:10},children:this.props.setting.name}),Object(Tt.jsxs)("div",{style:{display:"flex"},children:[Object(Tt.jsx)(Ct.a,Object(p.a)({style:{marginRight:30,flex:1},type:"number",variant:"outlined",label:"min",value:e[0],onChange:function(n){return e[1]>=Number(n.target.value)?t.props.onChange([gn.number(n.target.value),e[1]]):null}},this.props.inputField.params)),Object(Tt.jsx)(Ct.a,Object(p.a)({style:{marginLeft:30,flex:1},type:"number",variant:"outlined",label:"max",value:e[1],onChange:function(n){return Number(n.target.value)>=e[0]?t.props.onChange([e[0],gn.number(n.target.value)]):null}},this.props.inputField.params))]})]})}}]),n}(s.Component),nn=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){return Object(Z.a)(this,n),e.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var t=this,e=this.props.inputField?this.props.inputField.params:{},n=this.props.value||"",s=this.props.label||(this.props.setting?this.props.setting.name:"");return Object(Tt.jsx)("div",{children:Object(Tt.jsx)(Ct.a,Object(p.a)({type:"number",label:s,value:n,onChange:function(e){return t.props.onChange(gn.number(e.target.value))},style:this.props.style,variant:"outlined"},e))})}}]),n}(s.Component),sn=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){var t;Object(Z.a)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).changeValue=function(e,n){var s=D.a.cloneDeep(t.props.value);s||(s=t.handleNone()),s[n]=e,t.props.onChange(s)},t.handleNone=function(){return Array((t.props.inputField.params.shape||[1])[0]).fill(null)},t}return Object($.a)(n,[{key:"render",value:function(){var t=this,e=this.props.inputField.params.vertical?{marginLeft:20,marginRight:20,marginBottom:0,width:70}:{marginLeft:5,marginRight:5,marginBottom:0,width:100},n=Object(p.a)(Object(p.a)({},e),{},{textAlign:"center"}),s=this.props.value;return s||(s=this.handleNone()),Object(Tt.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(Tt.jsx)("div",{style:{paddingBottom:10},children:this.props.setting.name}),Object(Tt.jsx)("div",{style:{display:"flex",flexDirection:this.props.inputField.params.vertical?"column":"row",justifyContent:"center",alignItems:"center"},className:"arrayContainer",children:s.map((function(e,s){return Object(Tt.jsx)(nn,{value:e,onChange:function(e){return t.changeValue(e,s)},style:n},s)}))})]})}}]),n}(s.Component),on=n(153),an=Object(on.d)((function(){return Object(Tt.jsx)(rt.e,{size:20,color:"gray"})})),rn=Object(on.c)((function(t){return Object(Tt.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[t.sortable?Object(Tt.jsx)(an,{}):null,Object(Tt.jsx)("div",{style:{flex:1},children:Object(Tt.jsx)(gn,Object(p.a)({},t))}),t.remove?Object(Tt.jsx)(Bt.a,{onClick:t.remove,children:Object(Tt.jsx)(ot.a,{color:"red"})}):null]})})),cn=Object(on.b)((function(t){var e=t.children;return Object(Tt.jsx)("div",{style:{width:"100%"},children:e})})),ln=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){var t;Object(Z.a)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).changeValue=function(e,n){var s=Object(J.a)(t.sanitizeVal(t.props.value));s[n]=e,t.props.onChange(s)},t.sanitizeVal=function(e){return e?Array.isArray(e)?e:[e]:t.handleNone()},t.handleNone=function(){return[]},t.addItem=function(){t.props.onChange([].concat(Object(J.a)(t.sanitizeVal(t.props.value)),[t.props.setting.default||null]))},t.removeItem=function(e){t.props.onChange(t.sanitizeVal(t.props.value).filter((function(t,n){return n!==e})))},t.onSortEnd=function(e){var n=e.oldIndex,s=e.newIndex;t.props.onChange(Object(on.a)(t.sanitizeVal(t.props.value),n,s))},t}return Object($.a)(n,[{key:"render",value:function(){var t=this,e=this.sanitizeVal(this.props.value);return Object(Tt.jsxs)("div",{className:"ListInput_container",style:this.props.style,children:[Object(Tt.jsx)("div",{style:{paddingBottom:10},children:this.props.setting.name}),Object(Tt.jsx)(cn,{onSortEnd:this.onSortEnd,useDragHandle:!0,children:e.map((function(e,n){return Object(Tt.jsx)(rn,{index:n,value:e,onValueChange:function(e){return t.changeValue(e,n)},remove:function(){return t.removeItem(n)},sortable:t.props.setting.inputField.params.sortable,setting:t.props.setting.inputField.params.itemInput},"item-".concat(n))}))}),Object(Tt.jsx)(Bt.a,{"data-tip":"Add a new item",onClick:this.addItem,children:Object(Tt.jsx)(rt.h,{color:"green"})})]})}}]),n}(s.Component),un=function(t){return t.inputField.params.isCreatable=!0,Object(Tt.jsx)(Ce,Object(p.a)({},t))},pn=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(t){var s;return Object(Z.a)(this,n),(s=e.call(this,t)).changeSettingValue=function(t,e){s.props.onChange(Object(p.a)(Object(p.a)({},s.props.value),{},Object(u.a)({},t,e)))},s.state={displayColorPicker:{}},s}return Object($.a)(n,[{key:"render",value:function(){var t=this,e=this.props.value||{},n=this.props.setting.inputField.fields||[];return Object(Tt.jsxs)("div",{className:"DictInput_container",style:this.props.style,children:[Object(Tt.jsx)("div",{style:{paddingBottom:10},children:this.props.setting.name}),Object(Tt.jsx)("div",{children:n.map((function(n){return Object(Tt.jsx)(gn,{setting:n,value:e[n.key],onValueChange:function(e){return t.changeSettingValue(n.key,e)}},n.key)}))})]})}}]),n}(s.Component),dn=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){var t;Object(Z.a)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={},t.getParam=function(e){return D.a.find(t.props.setting.inputField.fields||[],["key",e])},t.onItemChange=function(e,n){t.props.onChange(Object(p.a)(Object(p.a)({},t.props.value),{},Object(u.a)({},e,n)))},t.addNewItem=function(e){if(e){var n=t.getParam(e);n&&t.onItemChange(e,n.default)}},t.deleteItem=function(e){t.props.onChange(D.a.omit(t.props.value,e))},t.renderItem=function(e,n){var s=t.getParam(e);return s?Object(Tt.jsxs)("fieldset",{className:"CreatableDictInput_fieldset",children:[Object(Tt.jsx)("legend",{style:{paddingLeft:10,paddingRight:10,paddingTop:2,paddingBottom:2,borderRadius:3,backgroundColor:"white"},children:s.name}),Object(Tt.jsx)(gn,Object(p.a)(Object(p.a)({},t.props),{},{setting:Object(p.a)(Object(p.a)({},s),{},{name:""}),value:n,onValueChange:function(n){return t.onItemChange(e,n)}})),Object(Tt.jsx)(Bt.a,{onClick:function(){return t.deleteItem(e)},children:Object(Tt.jsx)(ot.a,{color:"red"})})]}):null},t}return Object($.a)(n,[{key:"render",value:function(){var t=this,e=this.props.label||(this.props.setting?this.props.setting.name:""),n=this.props.setting.inputField.fields||[],s=this.props.value||{};return Object(Tt.jsxs)("div",{children:[Object(Tt.jsx)("div",{children:e}),Object(Tt.jsx)("div",{children:Object.keys(s).map((function(e){return t.renderItem(e,s[e])}))}),Object(Tt.jsxs)("div",{style:{display:"flex"},children:[Object(Tt.jsx)("div",{style:{flex:1,paddingLeft:5},children:Object(Tt.jsx)(Ce,{value:this.state.new_cat_value,onChange:function(e){return t.setState({new_cat_value:e})},label:"Add a new selection...",inputField:{params:{options:n.map((function(t){return{label:t.name,value:t.key}}))}}})}),Object(Tt.jsx)(Bt.a,{onClick:function(){return t.addNewItem(t.state.new_cat_value)},children:Object(Tt.jsx)(rt.h,{color:"green"})})]})]})}}]),n}(s.Component),hn=(n(614),{textinput:kt,bool:Je,options:Ce,"creatable options":un,dict:pn,"creatable dict":dn,color:$e,rangeslider:tn,range:en,number:nn,vector:sn,list:ln}),bn=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(t){var s;return Object(Z.a)(this,n),(s=e.call(this,t)).changeSettingValue=function(t){s.props.onValueChange?s.props.onValueChange(t):s.props.changeSettings(s.props.onSettingChangeType,s.props.setting.key,t,s.props.onSettingChangeExtraParams)},s.state={},s}return Object($.a)(n,[{key:"render",value:function(){var t=this,e=this.props.setting.inputField,n=hn[e.type];if(!n)return null;var s=Object(Tt.jsx)(n,Object(p.a)(Object(p.a)({},this.props),{},{inputField:e,onChange:function(e){return t.changeSettingValue(e)}})),i={"data-tip":(this.props.setting.help?this.props.setting.help+"<br>":"")+"Default: "+(this.props.setting.default||"None"),"data-multiline":!0,"data-effect":"solid","data-place":"color"===e.type?"bottom":"top"},o="InputField_container";return null==this.props.value&&(o+=" inputvalue_None"),Object(Tt.jsx)("div",Object(p.a)(Object(p.a)({className:o,onClick:function(n){return"queries"!==e.type&&n.ctrlKey?t.changeSettingValue(null==t.props.value?t.props.setting.default:null):null},style:Object(p.a)({},e.style)},i),{},{children:s}))}}]),n}(s.Component);bn.number=function(t){return["","-"].includes(t)?t:Number(t)};var jn={changeSettings:function(t,e,n,s){return{type:t,settingKey:e,value:n,extraParams:s}}},gn=Object(Y.b)((function(t){return{browser:t.browser}}),jn)(bn),fn=n(428),On=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){var t;Object(Z.a)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).hotKeysHandlers={MOVE_EXPANDED_UP:function(){return t.moveExpanded("up")},MOVE_EXPANDED_DOWN:function(){return t.moveExpanded("down")}},t.moveExpanded=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"down";"up"===n?e=0!==t.state.expanded?t.state.expanded-1:2:"down"===n&&(e=2!==t.state.expanded?t.state.expanded+1:0),t.setState({expanded:e})},t.renderSettingsGroup=function(e){return e.map((function(e){return e.inputField?Object(Tt.jsxs)("div",{children:[" ",Object(Tt.jsx)(gn,{setting:e,value:t.props.settings[e.key],onSettingChangeType:t.props.onSettingChangeType,onSettingChangeExtraParams:t.props.onSettingChangeExtraParams},e.key)]}):null}))},t.renderSettingsGroups=function(e){return t.props.paramGroups.map((function(n,s){var i=n.key?n.key:"null",o=e[i];if(!o)return null;var a=D.a.groupBy(o,"subGroup"),r=(n.subGroups?[{key:"null",name:null}].concat(Object(J.a)(n.subGroups)):[{key:"null",name:null}]).map((function(e){var n=e.key,s=e.name;return a[n]?Object(Tt.jsxs)("div",{children:[Object(Tt.jsx)("div",{style:{paddingBottom:20,fontWeight:"bold",fontSize:"1.3em",textAlign:"left"},children:s}),Object(Tt.jsx)("div",{children:t.renderSettingsGroup(a[n])})]},n):null})),c=function(){return t.props.submitSettings(o.reduce((function(e,n){return e[n.key]=t.props.settings[n.key],e}),{}))},l={SUBMIT_SETTINGS:c,UNDO_SETTINGS:t.props.undoSettings};return Object(Tt.jsxs)(We.a,{children:[Object(Tt.jsxs)(qe.a,{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(Tt.jsx)(Ke.a,{children:n.icon}),Object(Tt.jsx)("span",{style:{paddingLeft:10},children:n.name})]}),Object(Tt.jsx)(Ye.a,{children:Object(Tt.jsx)(Dt.HotKeys,{style:{width:"100%"},keyMap:Rt,handlers:l,children:Object(Tt.jsxs)(Dt.ObserveKeys,{children:[Object(Tt.jsx)("blockquote",{style:{textAlign:"left"},children:Object(fn.a)(n.description)}),Object(Tt.jsx)("div",{children:r}),Object(Tt.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[Object(Tt.jsxs)(Et.a,{onClick:t.props.undoSettings,"data-tip":"This will roll back to previous settings.<br> IT AFFECTS ALL GROUPS OF PARAMETERS, not only this one.",className:"orange",style:{margin:20},children:[Object(Tt.jsx)(at.a,{}),"Previous settings"]}),Object(Tt.jsxs)(Et.a,{"data-tip":"This will restore all settings to the plot's defaults",className:"red",style:{margin:20},children:[Object(Tt.jsx)(rt.k,{}),"Restore defaults"]}),Object(Tt.jsxs)(Et.a,{"data-tip":"This will change the settings and will update everything accordingly.<br> IT ONLY AFFECTS THIS GROUP OF SETTINGS, not all settings",onClick:c,className:"blue",style:{margin:20},children:["Submit settings",Object(Tt.jsx)(at.b,{})]})]})]})})})]},i)}))},t}return Object($.a)(n,[{key:"render",value:function(){var t=D.a.groupBy(this.props.params,"group");return Object(Tt.jsx)("div",{style:this.props.style,children:this.renderSettingsGroups(t)})}}]),n}(s.Component),vn=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){var t;Object(Z.a)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).hotKeysHandlers={UNDO_SETTINGS:function(){return t.undoSettings()},SUBMIT_ALL_SETTINGS:function(){return t.submitSettings("all")}},t.submitSettings=function(e){"all"===e&&(e=t.props.activePlot.unsubmittedSettings),It.updatePlotSettings(t.props.activePlot.id,e)},t.undoSettings=function(){It.undoPlotSettings(t.props.activePlot.id)},t}return Object($.a)(n,[{key:"render",value:function(){var t=this.props.activePlot;if(!t)return null;var e=Object(p.a)(Object(p.a)({},t.settings),t.unsubmittedSettings),n=Object(Tt.jsx)(On,{settings:e,params:t.params,paramGroups:t.paramGroups,onSettingChangeType:b,onSettingChangeExtraParams:{plotID:t.id},submitSettings:this.submitSettings,undoSettings:this.undoSettings});return Object(Tt.jsxs)("div",{style:Object(p.a)({},this.props.style),children:[Object(Tt.jsx)(Dt.GlobalHotKeys,{keyMap:zt.global,handlers:this.hotKeysHandlers}),Object(Tt.jsxs)(Ne.a,{container:!0,children:[Object(Tt.jsx)(Ne.a,{item:!0,sm:12,md:4,style:{height:"90vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(Tt.jsx)(Ut,{plot:t,style:{height:"80vh"}})}),Object(Tt.jsx)(Ne.a,{item:!0,sm:12,md:8,style:{padding:20,display:"flex",flexDirection:"column"},children:"infinity"===this.props.browser.mediaType?Object(Tt.jsx)("div",{className:"scrollView",style:{maxHeight:"90vh"},children:n}):n})]}),Object(Tt.jsx)(et.a,{multiline:!0,disable:!!this.props.session.settings&&!this.props.session.settings.showTooltips})]})}}]),n}(s.Component),mn={setCurrentSession:lt,addPlots:ut,setActivePlot:ht,setNewStructures:pt,informLoadedPlot:Ot,informLoadingPlot:ft},yn=Object(Y.b)((function(t){return{plots:t.plots,structures:t.structures,active:t.active,activePlot:W(t),session:t.session,browser:t.browser}}),mn)(vn),xn=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(t){var s;return Object(Z.a)(this,n),(s=e.call(this,t)).submitSettings=function(t){It.updateSessionSettings(t)},s.undoSettings=function(){It.undoSessionSettings()},s.state={},s}return Object($.a)(n,[{key:"render",value:function(){return D.a.isEmpty(this.props.session)?null:Object(Tt.jsxs)("div",{className:"scrollView",style:Object(p.a)(Object(p.a)({},this.props.style),{},{padding:20}),children:[Object(Tt.jsx)(On,{defaultActiveKey:1,settings:this.props.session.settings,params:this.props.session.params,paramGroups:this.props.session.paramGroups,onSettingChangeType:P,submitSettings:this.submitSettings,undoSettings:this.undoSettings}),Object(Tt.jsx)(et.a,{multiline:!0,disable:!!this.props.session.settings&&!this.props.session.settings.showTooltips})]})}}]),n}(s.Component),Sn=Object(Y.b)((function(t){return{session:t.session}}),(function(t){return{setCurrentSession:function(e){return t(lt(e))}}}))(xn),Pn=n(443),Cn=n(1250),Tn=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(t){var s;return Object(Z.a)(this,n),(s=e.call(this,t)).applyMethod=function(){It.callPlotShortcut(s.props.plot.id,s.props.shortcut)},s.renderDetails=function(){},s.state={showingDetails:!1},s}return Object($.a)(n,[{key:"render",value:function(){return Object(Tt.jsxs)(We.a,{children:[Object(Tt.jsxs)(qe.a,{style:{display:"flex",cursor:"pointer",justifyContent:"space-between",alignItems:"center"},children:[Object(Tt.jsx)("span",{style:{color:"gray",marginRight:10},children:this.props.shortcut}),Object(Tt.jsx)("span",{style:{fontWeight:"bold"},children:this.props.info.name})]}),Object(Tt.jsx)(Ye.a,{style:{fontSize:13},children:Object(Tt.jsx)(Pn.a,{source:this.props.info.description})}),Object(Tt.jsx)(Cn.a,{children:Object(Tt.jsx)(Et.a,{onClick:this.applyMethod,children:"APPLY METHOD"})})]})}}]),n}(s.Component),kn=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){return Object(Z.a)(this,n),e.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var t=this;return Object(Tt.jsx)("div",{className:"scrollView",style:{textAlign:"left",borderRadius:3,maxHeight:"90vh"},children:Object.keys(this.props.plot.shortcuts).map((function(e){return Object(Tt.jsx)(Tn,{plot:t.props.plot,shortcut:e,info:t.props.plot.shortcuts[e]})}))})}}]),n}(s.Component),En=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){var t;Object(Z.a)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).hotKeysHandlers={},t}return Object($.a)(n,[{key:"render",value:function(){return this.props.activePlot?Object(Tt.jsxs)("div",{style:Object(p.a)({},this.props.style),children:[Object(Tt.jsx)(Dt.GlobalHotKeys,{keyMap:zt.global,handlers:this.hotKeysHandlers}),Object(Tt.jsxs)(Ne.a,{container:!0,children:[Object(Tt.jsx)(Ne.a,{item:!0,sm:12,md:4,style:{height:"90vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(Tt.jsx)(Ut,{plot:this.props.activePlot,style:{height:"80vh"}})}),Object(Tt.jsx)(Ne.a,{item:!0,sm:12,md:8,style:{padding:20,display:"flex",flexDirection:"column"},children:Object(Tt.jsx)(kn,{plot:this.props.activePlot})})]}),Object(Tt.jsx)(et.a,{multiline:!0,disable:!!this.props.session.settings&&!this.props.session.settings.showTooltips})]}):null}}]),n}(s.Component),wn={setCurrentSession:lt,addPlots:ut,setActivePlot:ht,setNewStructures:pt,informLoadedPlot:Ot,informLoadingPlot:ft},An=Object(Y.b)((function(t){return{plots:t.plots,structures:t.structures,active:t.active,activePlot:W(t),session:t.session,browser:t.browser}}),wn)(En),_n=n(264);var In=function(){var t=Object(s.useCallback)((function(t){t.forEach((function(t){console.warn("ACCEPTED FILE"),It.sendFile(t)}))}),[]),e=Object(_n.useDropzone)({onDrop:t}),n=e.getRootProps,i=e.getInputProps;return Object(Tt.jsxs)("div",Object(p.a)(Object(p.a)({},n()),{},{children:[Object(Tt.jsx)("input",Object(p.a)({},i())),Object(Tt.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]}))},Dn=n(268),Gn=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(t){var s;return Object(Z.a)(this,n),(s=e.call(this,t)).state={connected:It.socket.connected},s}return Object($.a)(n,[{key:"componentDidMount",value:function(){var t=this;It.onConnect((function(){return t.setState({connected:!0})})),It.onDisconnect((function(){return t.setState({connected:!1})}))}},{key:"render",value:function(){var t=this.state.connected?{backgroundColor:"lightgreen"}:{backgroundColor:"salmon"};return Object(Tt.jsx)("div",Object(p.a)(Object(p.a)({},this.props),{},{style:Object(p.a)(Object(p.a)({},t),this.props.style),"data-tip":this.state.connected?"Connected to ".concat(It.apiAddress):"Currently not connected","data-place":"left","data-background-color":t.backgroundColor,children:this.state.connected?Object(Tt.jsx)(Dn.a,{color:"green",size:20}):Object(Tt.jsx)(Dn.b,{color:"darkred",size:20})}))}}]),n}(s.Component),Nn=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){return Object(Z.a)(this,n),e.apply(this,arguments)}return Object($.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(Tt.jsx)("div",{id:"speck-root",style:Object(p.a)(Object(p.a)({},this.props.style),{},{justifyContent:"center",alignItems:"center",display:"flex"}),children:Object(Tt.jsx)("canvas",{id:"speck-canvas",style:{width:800,height:800}})})}}]),n}(s.Component),Ln=n(261),Mn=n.n(Ln),Rn=n(432),zn=n.n(Rn),Bn=(n(1175),{editable:!0}),Vn=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(t){var s;Object(Z.a)(this,n),(s=e.call(this,t)).hotKeysHandlers={UNDO_SETTINGS:function(){return s.undoSettings()},SUBMIT_ALL_SETTINGS:function(){return s.submitSettings("all")}},s.submitSettings=function(t){"all"===t&&(t=s.props.activePlot.unsubmittedSettings),It.updatePlotSettings(s.props.activePlot.id,t)},s.undoSettings=function(){It.undoPlotSettings(s.props.activePlot.id)};var i=t.activePlot;return s.state=i.figure,s}return Object($.a)(n,[{key:"componentWillUnmount",value:function(){It.updateFigure(this.props.activePlot.id,Object(p.a)(Object(p.a)({},this.state),{},{overwrite:!0}))}},{key:"render",value:function(){var t=this;return this.props.activePlot?Object(Tt.jsx)(zn.a,{data:this.state.data,layout:this.state.layout,config:Bn,frames:this.state.frames,plotly:Mn.a,style:Object(p.a)({},this.props.style),onUpdate:function(e,n,s){return t.setState({data:e,layout:n,frames:s})},useResizeHandler:!0,debug:!0,advancedTraceTypeSelector:!0}):null}}]),n}(s.Component),Fn=Object(Y.b)((function(t){return{activePlot:W(t)}}),null)(Vn),Un=n(270);function Hn(t){var e=Object(s.useRef)(),n=Object(s.useState)(!1),i=Object(ie.a)(n,2),o=i[0],a=i[1],r=Object(s.useState)(!1),c=Object(ie.a)(r,2),l=c[0],u=c[1];return Object(Un.b)((function(){e.current.rotation.x=e.current.rotation.y+=.01})),Object(Tt.jsxs)("mesh",Object(p.a)(Object(p.a)({},t),{},{ref:e,scale:l?[1.5,1.5,1.5]:[1,1,1],onClick:function(t){return u(!l)},onPointerOver:function(t){return a(!0)},onPointerOut:function(t){return a(!1)},children:[Object(Tt.jsx)("boxBufferGeometry",{attach:"geometry",args:[1,1,1]}),Object(Tt.jsx)("meshStandardMaterial",{attach:"material",color:o?"hotpink":"orange"})]}))}function Kn(t){return Object(Tt.jsxs)(Un.a,Object(p.a)(Object(p.a)({style:t.style},t),{},{children:[Object(Tt.jsx)("ambientLight",{}),Object(Tt.jsx)("pointLight",{position:[10,10,10]}),Object(Tt.jsx)(Hn,{position:[-1.2,0,0],sign:-1}),Object(Tt.jsx)(Hn,{position:[1.2,0,0]})]}))}var Wn=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(){return Object(Z.a)(this,n),e.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){return Object(Tt.jsx)("object",{data:"./sisl-docs/html/index.html","aria-label":"Sisl documentation",width:"100%",height:"100%"})}}]),n}(s.Component);Object(Dt.configure)({logLevel:"debug",simulateMissingKeyPressEvents:!1});var qn=function(t){Object(Q.a)(n,t);var e=Object(tt.a)(n);function n(t){var s;return Object(Z.a)(this,n),(s=e.call(this,t)).hotKeysHandlers={GO_TO_SETTINGS:function(){return s.props.setActivePage("settings")},GO_TO_DASHBOARD:function(){return s.props.setActivePage("plots")},GO_TO_MOLECULEVIEWER:function(){return s.props.setActivePage("moleculeViewer")},SHOW_AVAIL_HOTKEYS:function(){return console.warn(Object(Dt.getApplicationKeyMap)())}},s.syncWithSession=function(t){if(!t)return It.askForSession();s.props.setCurrentSession(t)},s.getNewPlot=function(){It.newPlot(Object(p.a)({tabID:s.props.active.tab},s.state.plotToInitialize)),s.togglePlotInitializer()},s.togglePlotInitializer=function(t){var e="plotInitializer"===s.props.active.page;void 0!==t&void 0!==t.detail?(t.detail.forceShow&&!e&&s.props.setActivePage("plotInitializer"),t.detail.forceHide&&e&&s.props.setActivePage("plots")):s.props.setActivePage(e?"plots":"plotInitializer")},s.state={connected:It.socket.connected,loadingPlots:[]},It.onConnect((function(){s.setState({connected:!0})})),document.addEventListener("syncWithSession",(function(t){return s.syncWithSession(t.detail.session)})),document.addEventListener("updateTabs",(function(){return s.syncWithSession()})),document.addEventListener("loadingPlot",(function(t){s.setState({loadingPlots:[].concat(Object(J.a)(s.state.loadingPlots),[t.detail.plot_id])})})),document.addEventListener("plot",(function(e){var n=e.detail.plot;t.addPlots(Object(u.a)({},n.id,n)),s.setState({loadingPlots:s.state.loadingPlots.filter((function(t){return t!==n.id}))})})),document.addEventListener("newPlot",(function(){return s.syncWithSession()})),document.addEventListener("sessionUpdate",(function(t){t.detail.justUpdated.forEach((function(t){It.getPlot(t)}))})),s}return Object($.a)(n,[{key:"componentDidMount",value:function(){this.props.setActivePlot(void 0),this.listener=document.addEventListener("togglePlotInitializer",this.togglePlotInitializer)}},{key:"componentDidUpdate",value:function(){var t=this,e=D.a.find(this.props.tabs,["id",this.props.active.tab]);e&&e.plots.forEach((function(e){t.props.plots[e]||-1!==t.state.loadingPlots.indexOf(e)||It.getPlot(e)}))}},{key:"render",value:function(){var t={plots:ne,settings:Sn,plotLayoutEditor:Fn,plotTweaking:yn,plotMethods:An,plotInitializer:He,moleculeViewer:Nn,sislDocs:Wn}[this.props.active.page];return this.state.connected||"sislDocs"===this.props.active.page?["plotLayoutEditor","sislDocs"].includes(this.props.active.page)?Object(Tt.jsxs)("div",{style:{marginBottom:0,display:"flex",flexWrap:"wrap",height:"100vh",position:"relative"},children:[Object(Tt.jsx)(Dt.GlobalHotKeys,{keyMap:Object(p.a)({},Gt),handlers:this.hotKeysHandlers}),Object(Tt.jsx)(t,{}),Object(Tt.jsx)(be,{style:{position:"absolute",bottom:0,right:0}}),"sislDocs"===this.props.active.page?null:Object(Tt.jsx)(G.a,{}),"sislDocs"===this.props.active.page?null:Object(Tt.jsx)(Gn,{connectedProps:{style:{backgroundColor:"lightgreen"}},style:{position:"absolute",right:0,top:0,margin:20,width:40,height:40,borderRadius:40,display:"flex",justifyContent:"center",alignItems:"center"}}),Object(Tt.jsx)(et.a,{multiline:!0,disable:!!this.props.session.settings&&!this.props.session.settings.showTooltips})]}):Object(Tt.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[Object(Tt.jsx)(Dt.GlobalHotKeys,{keyMap:Object(p.a)({},Gt),handlers:this.hotKeysHandlers}),Object(Tt.jsx)(Se,{style:{paddingLeft:15,paddingRight:15,width:"10vw",minWidth:200,borderRight:"#ccc solid 1px"}}),Object(Tt.jsxs)("div",{style:{flex:1,paddingLeft:20,height:"100vh",display:"flex",flexDirection:"column"},children:["plots"===this.props.active.page?Object(Tt.jsx)(Zt,{}):null,Object(Tt.jsx)(t,{style:{flex:1}}),Object(Tt.jsx)(In,{})]}),Object(Tt.jsx)(be,{}),Object(Tt.jsx)(G.a,{}),Object(Tt.jsx)(Gn,{connectedProps:{style:{backgroundColor:"lightgreen"}},style:{position:"absolute",right:0,top:0,margin:20,width:40,height:40,borderRadius:40,display:"flex",justifyContent:"center",alignItems:"center"}}),Object(Tt.jsx)(et.a,{multiline:!0,disable:!!this.props.session.settings&&!this.props.session.settings.showTooltips})]}):Object(Tt.jsxs)("div",{style:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(Tt.jsx)("div",{style:{paddingTop:100},children:Object(Tt.jsx)("div",{style:{fontSize:"2.5em",fontWeight:"bold"},children:"We are trying to connect to the sisl API."})}),Object(Tt.jsx)(Kn,{camera:{position:[0,0,5]}}),Object(Tt.jsx)("div",{style:{paddingBottom:100,fontSize:"1.2em"},children:" Meanwhile you can have fun with these two moving cubes. "}),Object(Tt.jsx)(Gn,{connectedProps:{style:{backgroundColor:"lightgreen"}},style:{position:"absolute",right:0,top:0,margin:20,width:40,height:40,borderRadius:40,display:"flex",justifyContent:"center",alignItems:"center"}}),Object(Tt.jsx)(G.a,{}),Object(Tt.jsx)(be,{}),Object(Tt.jsx)(et.a,{multiline:!0,disable:!!this.props.session.settings&&!this.props.session.settings.showTooltips})]})}}]),n}(s.Component),Yn={setCurrentSession:lt,setActiveTab:bt,setSessionTabs:dt,setActivePlot:ht,addPlots:ut,setNewStructures:pt,setNewPlotables:function(t){return{type:g,newPlotables:t}},setActivePage:vt},Xn=Object(Y.b)((function(t){return{plots:t.plots,structures:t.session.structures,tabs:t.session.tabs,active:t.active,session:t.session}}),Yn)(qn),Jn=q(),Zn=Jn.store,$n=Jn.persistor;var Qn=function(){return Object(Tt.jsx)(Y.a,{store:Zn,children:Object(Tt.jsx)(X.a,{persistor:$n,children:Object(Tt.jsx)("div",{className:"App",style:{display:"flex",flexDirection:"column"},children:Object(Tt.jsx)("div",{className:"appContent",style:{height:"100vh"},children:Object(Tt.jsx)(Xn,{})})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(Tt.jsx)(Qn,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},463:function(t,e,n){},464:function(t,e,n){},614:function(t,e,n){}},[[1180,1,2]]]);
//# sourceMappingURL=main.33588263.chunk.js.map